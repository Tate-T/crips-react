# Створення і використання API

## Теорія
Коли ми використовуємо майже будь-який API, ми повинні десь переховувати ключ, щоб ніхто не знайшов його у нашому репо і не користувався API за наш рахунок / не отримував конфіденційну інформацію.

Щоб зробити ключ доступним для коду, але недоступним у репозиторії, його зберігають у файлі `.env`:
1. `.env` у вашому локальному середовищі (обов'язково доданий в .gitignore);
2. Середовище зі змінними на хостингу, у нашому випадку GitHub Secrets.

## Інструкція
1. Зареєструйте / створіть бажаний API, отримавши посилання або ключ.
2. Додайте ключ локально:
додайте наступний рядок у файл `.env` у вашій локальній папці:
```env
VITE_SOMETHING=value
```
(замініть SOMETHING на дескриптивну назву, наприклад VITE_USERS_API для посилання або VITE_PIXABAY_API_KEY для ключа; замініть value на отриманий на кроці 1 посилання або ключ);
   * Префікс VITE потрібен для того, щоб бандлер бачив ключ при прев'ю та білді проєкту.
3. Додайте ключ на GitHub:
   * Перейдіть у {ваш репозиторій}>Settings>Secrets and variables>Actions;
   * Натисніть "New repository secret";
   * Вставте у поле Name назву вашої змінної середовища у .env, але вже без префікса VITE_ (наприклад, USERS_API або PIXABAY_API_KEY);
   * Вставте у поле Secret значення змінної (саме посилання або ключ);
   * Натисніть "Add secret".

## Використання в коді
Для того, щоб використати вашу змінну середовища у коді, використовується наступний синтаксис:
```javascript
const SOMETHING = import.meta.env.VITE_SOMETHING;
```
Наприклад, для PIXABAY API:
```javascript
const API_KEY = import.meta.env.VITE_PIXABAY_API_KEY; 
axios.defaults.baseURL = "https://pixabay.com/api/";

const getData = async () => {
    const res = await axios.get(`/?q=cat&page=1&key=${API_KEY}&image_type=photo&per_page=16`);
}
```
